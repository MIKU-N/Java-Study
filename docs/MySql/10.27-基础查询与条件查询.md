# 基础查询

## 简单查询

```mysql
select empno from emp_li; //单列查询
select empno,ename from emp_li; //多列查询
select * from emp_li; //全部列查询
```

> 通配符 `*` 不建议使用，会降低查询速度和影响英语程序性能(从SQL优化角度来说)

## 条件查询

```mysql
//查询1005员工信息
select empno,ename from emp_li where empno=1005;
```

> 执行过程:`from`(指定表)->`where`(记录过滤)->`select` (结果集)

### 操作符

```mysql
=  等于
!=或<> 不等于
> 大于
>= 大于等于
< 小于
<= 小于等于
and 并且
or 或者
any 任意
all 所有
```

# 带有表达式的查询

## 列别名

> 可以将表达式查询的名称替换为别名

```mysql
//查询员工的月薪与年薪
select ename,salary,salary*12 year_salary
from emp_li;
```

![image-20221027100027383](https%3A%2F%2Fraw.githubusercontent.com%2FMIKU-N%2FJava-Study%2Fmaster%2Fimg%2F202210271000851.png)

### 表别名

> 与列别名相似

```mysql
//使用限定表名
select e.ename from emp_li e;
```

## Null空值

```mysql
//查询员工的月薪
select ename,salary+bonus mouth_salary,salary,bonus
from emp_li;
```

### 注意

- `null`值参与算数运算时结果均为 `null`
- `null` 参与连接操作结果也为 `null`
- 任何数据类型都可以取值 `null`

### 空值处理函数

```mysql
ifnull(e1,e2); //如果e1为空，则取e2代替
```

所以正确的查询应该为下面这样

```mysql
//查询员工的月薪
select ename,salary+ifnull(bonus,0) mouth_salary,salary,bonus
from emp_li;
```

### 任何数据均可插入空值

```mysql
//插入记录:
empno:1013
ename:'欧阳锋'
//其他字段为空
//全部字段
insert into emp_li values(1013,"欧阳锋",null,null,null,null,null,null);
//指定字段
insert into emp_li(empno,ename) values(1013,"欧阳锋");
```

### 简单练习

```mysql
//查询员工姓名和职位，要求没有职位显示"No Position"
select ename,ifnull(position,"No Position") position
from emp_li;
```

## 拼接数据

```mysql
concat(a,b);
//测试
select concat('a','b') from dual;
//空值拼接
select concat('a','b',null) from dual;
```

### 练习

```mysql
//查询员工信息，要求将员工姓名和职位拼接在一起
select concat(ename,ifnull(position,"No Position")) message
from emp_li;
```

## 去重

> `distinct` 只能附带在 `select`

```mysql
//查询有哪些职位
select distinct position from emp_li;
```

> 如果 `distinct` 后接多个字段，则代表联合去重，只保留唯一的组合结果

```mysql
select distinct deptno,position from emp_li;
```

## 大小写区分

```mysql
//查询职位为"Analyst"的员工信息
select empno,ename,position
from emp_li
where position="analyst";
```

> 默认来说，MySQL对大小写并不敏感，无论大写小写均能正常匹配
>
> 当然，可以在创建表/查询表时添加 `binary`  让其对大小写敏感

```mysql
SELECT empno,ename,position
from emp_li
where  binary position="Analyst"; //此时，如果position="analyst"则会无匹配返回
```

## between 低值 and 高值

### 格式

```mysql
肯定形式:包含临界值
[低值,高值]
否定形式:不包含临界值
no between 低值 and 高值
```

### 例子

```mysql
//查询薪水大于5000并且小于等于10000的员工信息
//普通写法
select empno,ename,salary
from emp_li
where salary>=5000 
and salary<=10000;
//between and写法
select empno,ename,salary
from emp_li
where salary
between 5000
and 10000;
```

## in的使用

### 格式

```mysql
in(列表项) //判断等于任意一项
```

### 例子

```mysql
//查询职位是"Manager"或者是"Analyst"的员工姓名及职位
//普通写法
select ename,position
from emp_li
where position="Manager"
or position="Analyst"
//in 写法
select ename,position
from emp_li
where position
in("Manager","Analyst");
```

> 注意,在比较时空值不与`null`匹配，且不能与任何数据匹配

## 模糊查询

> `like` 为模糊查询命令

```mysql
//查询员工表中名字包含"张"字的员工

```

